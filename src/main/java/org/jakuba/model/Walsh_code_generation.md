# Коды Уолша (Walsh codes) 

Коды Уолша строятся из матрицы Адамара (Hadamard matrix).

Используются в CDMA как ортогональные коды.

## Матрица Адамара

H2n:

| Hn | Hn  |
|----|-----|
| Hn | -Hn |

#### Пример:

- H1:

| 1 |
|---|

- H2:

| 1 | 1  |
|---|----|
| 1 | -1 |

- H4

| 1   | 1    | 1   | 1    |
|-----|------|-----|------|
| 1   | -1   | 1   | -1   |
| 1   | 1    | -1  | -1   |
| 1   | -1   | -1  | 1    |

## Свойства кодов Уолша

1. Длины кодов = степени двойки (2, 4, 8, 16, …).
2. Строки матрицы — это сами коды.
3. Коды ортогональны: скалярное произведение любых двух разных строк равно 0.

Если два пользователя передают с разными кодами, их сигналы можно разделить.

## Как работает в CDMA
1. Передатчик выбирает код Уолша (например, 3-я строка из H8)
2. Каждый бит посылки, равный 1, передаётся как код, а бит 0 — как инвертированный код.
   - Например, пусть код Уолша: (+1, -1, +1, -1)
   - Передача двух битов: 1 0
     - Для 1 передадим: (+1, -1, +1, -1)
     - Для 0 передадим: (-1, +1, -1, +1)
   - В эфир уйдёт последовательность: (+1, -1, +1, -1, -1, +1, -1, +1)
3. В эфире все сигналы складываются.
4. Приёмник знает код нужного пользователя и умножает полученный сигнал на этот код.
Благодаря ортогональности, он выделяет только своего пользователя.